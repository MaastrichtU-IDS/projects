{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if(typeof Symbol===\"undefined\"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}it=o[Symbol.iterator]();return it.next.bind(it);}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import{makeStyles}from'@material-ui/core/styles';import{Typography,Container,Button,Chip,Tooltip,Grid,Paper,Box}from\"@material-ui/core\";import{IconButton,InputBase}from\"@material-ui/core\";import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import GitHubIcon from'@material-ui/icons/GitHub';import HomeIcon from'@material-ui/icons/Home';import CloudDownloadIcon from'@material-ui/icons/CloudDownload';import GavelIcon from'@material-ui/icons/Gavel';import BugReportIcon from'@material-ui/icons/BugReport';import SearchIcon from'@material-ui/icons/Search';import SendIcon from'@material-ui/icons/Send';import axios from'axios';import{Bar,HorizontalBar}from'react-chartjs-2';import'chartjs-plugin-labels';import idsLogo from\"../assets/ids_logo.png\";import githubData from\"../assets/ids_github_data.json\";var useStyles=makeStyles(function(theme){return{paperSearch:{padding:'2px 4px',display:'flex',alignItems:'center',width:'30%'},searchInput:{marginLeft:theme.spacing(1),width:'50%',fontSize:'14px',flex:1},link:{textDecoration:'none',color:'inherit','&:hover':{color:theme.palette.primary.main,textDecoration:'none'}},cardSubtitle:{fontSize:14,marginTop:8},pos:{}};});export default function ProjectsDashboard(){var classes=useStyles();var _React$useState=React.useState({projects_list:[],search:'',language_pie:{},category_pie:{}}),_React$useState2=_slicedToArray(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];var stateRef=React.useRef(state);var updateState=React.useCallback(function(update){stateRef.current=_objectSpread(_objectSpread({},stateRef.current),update);setState(stateRef.current);},[setState]);React.useEffect(function(){console.log(githubData['recent_releases']);var endpointToQuery='https://graphdb.dumontierlab.com/repositories/ids-projects';console.log(endpointToQuery);axios.get(endpointToQuery+\"?query=\"+encodeURIComponent(getProjectsQuery)).then(function(res){var sparqlResultArray=res.data.results.bindings;var projects_converted_hash=_objectSpread({},sparqlResultArray);var projects_hash={};Object.keys(projects_converted_hash).forEach(function(project){var projectName=projects_converted_hash[project]['project']['value'];if(!projects_hash[projectName]){projects_hash[projectName]={programmingLanguage:[],maintainers:[]};}Object.keys(projects_converted_hash[project]).forEach(function(property){var propertyHash=projects_converted_hash[project][property];if(propertyHash){if(property=='programmingLanguage'){projects_hash[projectName][property].push(propertyHash.value);}else if(property=='maintainer_name'){projects_hash[projectName]['maintainers'].push({name:projects_converted_hash[project]['maintainer_name']['value'],email:projects_converted_hash[project]['maintainer_email']['value']});}else if(property=='maintainer_name'){}else{projects_hash[projectName][property]=propertyHash.value;}}});});var project_final_array=Object.keys(projects_hash).map(function(key){return projects_hash[key];});updateState({projects_list:project_final_array});}).catch(function(error){console.log(error);});var language_pie={labels:[],datasets:[{label:'Number of projects using the programming languages',data:[],backgroundColor:['#4caf50','#FF6384','#36A2EB','#FFCE56','#0277bd','#ef6c00']}]};axios.get(endpointToQuery+\"?query=\"+encodeURIComponent(countLanguagesQuery)).then(function(res){var sparqlResultArray=res.data.results.bindings;console.log(sparqlResultArray);sparqlResultArray.map(function(result){language_pie.labels.push(result.programmingLanguage.value);language_pie.datasets[0].data.push(result.projectCount.value);});console.log('TODO: State of language_pie after ComponentDidMount (got labels)');console.log(language_pie);updateState({language_pie:language_pie});}).catch(function(error){console.log(error);});var category_pie={labels:[],datasets:[{data:[],label:'Number of projects per categories',backgroundColor:['#4caf50','#FF6384','#36A2EB','#FFCE56','#0277bd','#ef6c00']}]};axios.get(endpointToQuery+\"?query=\"+encodeURIComponent(countCategoryQuery)).then(function(res){var sparqlResultArray=res.data.results.bindings;console.log(sparqlResultArray);for(var _iterator=_createForOfIteratorHelperLoose(sparqlResultArray),_step;!(_step=_iterator()).done;){var result=_step.value;category_pie.labels.push(result.category.value);category_pie.datasets[0].data.push(result.projectCount.value);}updateState({category_pie:category_pie});}).catch(function(error){console.log(error);});},[]);var searchChange=function searchChange(event){setState(_objectSpread(_objectSpread({},state),{},{search:event.target.value}));};var filteredProjects=state.projects_list.filter(function(project){if(project.name){return project.name.toLowerCase().indexOf(state.search.toLowerCase())!==-1||project.description.toLowerCase().indexOf(state.search.toLowerCase())!==-1||project.programmingLanguage.join(' ').toLowerCase().indexOf(state.search.toLowerCase())!==-1;}});console.log('Filtered project:');console.log(state.projects_list);return React.createElement(Container,{className:\"mainContainer\"},React.createElement(Typography,{variant:\"h4\",style:{textAlign:'center'}},React.createElement(\"img\",{src:idsLogo,style:{maxWidth:'200px'},alt:\"IDS Logo\"})),React.createElement(Typography,{variant:\"h6\",style:{marginBottom:'1em'}},\"\\uD83C\\uDFF7\\uFE0F Recent releases\"),React.createElement(Grid,{container:true,spacing:2,style:{textAlign:'center',marginBottom:'1em'}},githubData['recent_releases'].slice(0,6).map(function(release,key){return React.createElement(Grid,{item:true,xs:12,md:4},React.createElement(Tooltip,{title:release.release_description},React.createElement(Card,{style:{height:'100%'}},React.createElement(CardContent,{style:{padding:'1em'}},React.createElement(\"a\",{href:release.release_url,className:classes.link},React.createElement(Typography,{variant:\"h6\",component:\"h2\"},release.repo,React.createElement(Chip,{label:release.release_tag,color:\"primary\",style:{marginLeft:'0.5em',cursor:'pointer'}}))),React.createElement(Typography,{className:classes.pos,color:\"textSecondary\"},release.release_name),React.createElement(Typography,{className:classes.cardSubtitle,color:\"textSecondary\",gutterBottom:true},\"\\uD83D\\uDCC5 Released on the \",release.published_at,React.createElement(\"br\",null),\"\\uD83D\\uDC64 By \",release.release_author)))));})),React.createElement(Typography,{variant:\"h6\",style:{marginBottom:'1em',marginTop:'1em'}},\"\\uD83D\\uDDC2\\uFE0F Projects\"),React.createElement(Grid,{container:true,spacing:3,style:{textAlign:'center'}},React.createElement(Grid,{item:true,xs:12,md:6},React.createElement(Paper,null,React.createElement(Typography,{variant:\"h6\"},\"Categories\"),React.createElement(Bar,{data:state.category_pie,options:pie_options}))),React.createElement(Grid,{item:true,xs:12,md:6},React.createElement(Paper,null,React.createElement(Typography,{variant:\"h6\"},\"Programming languages\"),React.createElement(HorizontalBar,{data:state.language_pie,options:pie_options})))),React.createElement(Box,{display:\"flex\",style:{marginTop:'20px'}},React.createElement(Paper,{component:\"form\",className:classes.paperSearch},React.createElement(InputBase,{className:classes.searchInput,inputProps:{'aria-label':'search'},placeholder:\"Search projects\",onChange:searchChange}),React.createElement(IconButton,{\"aria-label\":\"search\"},React.createElement(SearchIcon,null))),React.createElement(Typography,{style:{marginTop:'10px',marginLeft:'20px'}},filteredProjects.length,\" projects\")),filteredProjects.map(function(project,key){return React.createElement(Paper,{key:key.toString(),elevation:4,style:{padding:'15px',marginTop:'25px',marginBottom:'25px'}},React.createElement(Typography,{variant:\"h5\"},project.name,\"\\xA0\\xA0\",project.programmingLanguage.map(function(language,key){return React.createElement(Chip,{label:language,color:\"primary\",style:{marginRight:'5px'},key:key.toString()});}),project.category&&React.createElement(Chip,{label:project.category,color:\"secondary\",style:{marginRight:'5px'}}),project.status&&React.createElement(Chip,{label:project.status,color:\"default\",style:{marginRight:'5px'}})),React.createElement(Typography,{style:{marginBottom:'10px',marginTop:'5px'}},project.description),project.gitUrl&&React.createElement(\"div\",null,React.createElement(\"a\",{href:project.gitUrl,key:project.gitUrl},React.createElement(\"img\",{src:'https://gh-card.dev/repos/'+project.gitUrl.replace('https://github.com/','')+'.svg?fullname',alt:project.gitUrl,key:'img'+project.gitUrl}))),project.gitUrl&&React.createElement(Tooltip,{title:\"Git repository\"},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.gitUrl},React.createElement(GitHubIcon,null))),project.homepage&&React.createElement(Tooltip,{title:\"Project homepage\"},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.homepage},React.createElement(HomeIcon,null))),project.downloadpage&&React.createElement(Tooltip,{title:\"Download page\"},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.downloadpage},React.createElement(CloudDownloadIcon,null))),project.bugdatabase&&React.createElement(Tooltip,{title:\"Issue tracker\"},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.bugdatabase},React.createElement(BugReportIcon,null))),project.license&&React.createElement(Tooltip,{title:\"License\"},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.license},React.createElement(GavelIcon,null))),project.service_endpoint&&React.createElement(Tooltip,{title:'Service endpoint: '+project.service_endpoint},React.createElement(Button,{target:\"_blank\",rel:\"noopener noreferrer\",href:project.service_endpoint},React.createElement(SendIcon,null))),React.createElement(Typography,{variant:\"body2\"},\"Maintained by\\xA0\",project.maintainers.map(function(maintainer,key){return React.createElement(Tooltip,{title:maintainer.name+' '+maintainer.email},React.createElement(\"a\",{href:maintainer.email,target:\"_blank\",rel:\"noopener noreferrer\"},React.createElement(Chip,{label:maintainer.name,color:\"default\",style:{marginRight:'5px',cursor:'pointer'},key:key.toString()})));})));}));}var getProjectsQuery=\"PREFIX doap: <http://usefulinc.com/ns/doap#>\\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\\nPREFIX bibo: <http://purl.org/ontology/bibo/>\\n\\nselect distinct * where { \\n    ?project a doap:Project ;\\n        doap:name ?name ;\\n        doap:description ?description ;\\n        doap:programming-language ?programmingLanguage .\\n    OPTIONAL {\\n        ?project doap:repository [\\n            a doap:GitRepository ;\\n            doap:location ?gitUrl\\n          ] .\\n    }\\n    OPTIONAL {\\n        ?project doap:bug-database ?bugdatabase .\\n    }\\n    OPTIONAL {\\n        ?project doap:category ?category .\\n    }\\n    OPTIONAL {\\n        ?project bibo:status ?status .\\n    }\\n    OPTIONAL {\\n        ?project doap:created ?created .\\n    }\\n    OPTIONAL {\\n        ?project doap:download-page ?downloadpage .\\n    }\\n    OPTIONAL {\\n        ?project doap:homepage ?homepage .\\n    }\\n    OPTIONAL {\\n        ?project doap:license ?license .\\n    }\\n    OPTIONAL {\\n        ?project doap:shortdesc ?shortdesc .\\n    }\\n    OPTIONAL {\\n        ?project doap:service-endpoint ?service_endpoint .\\n    }\\n    OPTIONAL {\\n      ?project doap:maintainer [\\n          a foaf:Person ;\\n          foaf:name ?maintainer_name ;\\n          foaf:mbox ?maintainer_email\\n        ] .\\n    }\\n}\";var countLanguagesQuery=\"PREFIX doap: <http://usefulinc.com/ns/doap#>\\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\\nselect ?programmingLanguage (count(?project) as ?projectCount) where { \\n    ?project a doap:Project ;\\n             doap:programming-language ?programmingLanguage .\\n} GROUP BY ?programmingLanguage\";var countCategoryQuery=\"PREFIX doap: <http://usefulinc.com/ns/doap#>\\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\\nselect ?category (count(?project) as ?projectCount) where { \\n    ?project a doap:Project ;\\n             doap:category ?category .\\n} GROUP BY ?category\";var pie_options={scales:{yAxes:[{ticks:{beginAtZero:true}}],xAxes:[{ticks:{beginAtZero:true}}]},plugins:{labels:{render:'value'}}};","map":{"version":3,"sources":["/home/runner/work/projects/projects/src/ProjectsDashboard.tsx"],"names":["React","makeStyles","Typography","Container","Button","Chip","Tooltip","Grid","Paper","Box","IconButton","InputBase","Card","CardContent","GitHubIcon","HomeIcon","CloudDownloadIcon","GavelIcon","BugReportIcon","SearchIcon","SendIcon","axios","Bar","HorizontalBar","idsLogo","githubData","useStyles","theme","paperSearch","padding","display","alignItems","width","searchInput","marginLeft","spacing","fontSize","flex","link","textDecoration","color","palette","primary","main","cardSubtitle","marginTop","pos","ProjectsDashboard","classes","useState","projects_list","search","language_pie","category_pie","state","setState","stateRef","useRef","updateState","useCallback","update","current","useEffect","console","log","endpointToQuery","get","encodeURIComponent","getProjectsQuery","then","res","sparqlResultArray","data","results","bindings","projects_converted_hash","projects_hash","Object","keys","forEach","project","projectName","programmingLanguage","maintainers","property","propertyHash","push","value","name","email","project_final_array","map","key","catch","error","labels","datasets","label","backgroundColor","countLanguagesQuery","result","projectCount","countCategoryQuery","category","searchChange","event","target","filteredProjects","filter","toLowerCase","indexOf","description","join","textAlign","maxWidth","marginBottom","slice","release","release_description","height","release_url","repo","release_tag","cursor","release_name","published_at","release_author","pie_options","length","toString","language","marginRight","status","gitUrl","replace","homepage","downloadpage","bugdatabase","license","service_endpoint","maintainer","scales","yAxes","ticks","beginAtZero","xAxes","plugins","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, Container, Button, Chip, Tooltip, Grid, Paper, Box } from \"@material-ui/core\";\nimport { IconButton, InputBase } from \"@material-ui/core\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport { Doughnut, Pie, Bar, HorizontalBar } from 'react-chartjs-2';\nimport 'chartjs-plugin-labels';\n\n// Import UM logo from assets\n// import iconImage from '../assets/icon.png';\nimport idsLogo from '../assets/ids_logo.png';\nimport githubData from '../assets/ids_github_data.json';\n// import { ActionYoutubeSearchedFor } from 'material-ui/svg-icons';\n\n// import { normalize, schema } from 'normalizr';\n// import { ColorPropType } from 'react-native';\n\n// import {newEngine} from '@comunica/actor-init-sparql';\n// import {ActorInitSparql} from '@comunica/actor-init-sparql/lib/ActorInitSparql-browser';\n// import {IQueryOptions, newEngineDynamicArged} from \"@comunica/actor-init-sparql/lib/QueryDynamic\";\n\nconst useStyles = makeStyles(theme => ({\n  paperSearch: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    width: '30%',\n  },\n  searchInput: {\n    marginLeft: theme.spacing(1),\n    width: '50%',\n    fontSize: '14px',\n    flex: 1,\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'inherit',\n    '&:hover': {\n      color: theme.palette.primary.main,\n      textDecoration: 'none',\n    },\n  },\n  cardSubtitle: {\n    fontSize: 14,\n    marginTop: 8,\n  },\n  pos: {\n    // marginBottom: 12,\n  },\n}))\n\nexport default function ProjectsDashboard() {\n  const classes = useStyles();\n  \n  const [state, setState] = React.useState({\n    projects_list: [],\n    search: '',\n    language_pie: {},\n    category_pie: {}\n  });\n\n  const stateRef = React.useRef(state);\n\n  // Avoid conflict when async calls\n  // Can be done with another lib (cf. Turgay)\n  const updateState = React.useCallback((update) => {\n    stateRef.current = {...stateRef.current, ...update};\n    setState(stateRef.current);\n  }, [setState]);\n\n  // componentDidMount: Query SPARQL endpoint to get the projects infos\n  React.useEffect(() => {\n    console.log(githubData['recent_releases']);\n    const endpointToQuery = 'https://graphdb.dumontierlab.com/repositories/ids-projects';\n    console.log(endpointToQuery);\n\n    // Query directly using Axios\n    axios.get(endpointToQuery + `?query=` + encodeURIComponent(getProjectsQuery))\n      .then(res => {\n        const sparqlResultArray = res.data.results.bindings;\n\n        // Convert array to object: {0:\"a\", 1:\"b\", 2:\"c\"}\n        const projects_converted_hash = { ...sparqlResultArray }\n        let projects_hash: any = {}\n        // Iterate over projects\n        Object.keys(projects_converted_hash).forEach(function(project) {\n          const projectName = projects_converted_hash[project]['project']['value']\n          // Use the project URI as key in the hash\n          if (!projects_hash[projectName]){\n            projects_hash[projectName] = {programmingLanguage: [], maintainers: []}\n          }\n          // Iterate over project properties\n          Object.keys(projects_converted_hash[project]).forEach(function(property: any) {\n            const propertyHash = projects_converted_hash[project][property]\n            if (propertyHash) {\n              if (property == 'programmingLanguage') {\n                // Exception for programming language which is a list\n                projects_hash[projectName][property].push(propertyHash.value);\n              } else if (property == 'maintainer_name') {\n                projects_hash[projectName]['maintainers'].push({\n                  name: projects_converted_hash[project]['maintainer_name']['value'],\n                  email: projects_converted_hash[project]['maintainer_email']['value']\n                });\n              } else if (property == 'maintainer_name') {\n                // Handled with maintainer_name\n              } else {\n                projects_hash[projectName][property] = propertyHash.value \n              }\n            }\n          })\n        })\n        // Convert back to array for filtering\n        const project_final_array: any = Object.keys(projects_hash).map((key) => projects_hash[key]);\n        // setState({...state, projects_list: project_final_array})\n        updateState({projects_list: project_final_array})\n      })\n      .catch(error => {\n        console.log(error)\n      })\n\n    // Get programming languages counts\n    let language_pie = {\n      labels: [],\n      datasets: [{\n        label: 'Number of projects using the programming languages',\n        data: [],\n        backgroundColor: ['#4caf50','#FF6384', '#36A2EB', '#FFCE56', '#0277bd', '#ef6c00']\n        // hoverBackgroundColor: ['#4caf50','#FF6384','#36A2EB','#FFCE56', '#0277bd', '#ef6c00']\n      }]\n    }\n    axios.get(endpointToQuery + `?query=` + encodeURIComponent(countLanguagesQuery))\n      .then(res => {\n        const sparqlResultArray = res.data.results.bindings;\n        console.log(sparqlResultArray);\n\n        // Typescript ridiculously requires to do a forEach to avoid its dumb warnings\n        // Default Objects should accepts any fields by default.\n        // for (let result of sparqlResultArray) {\n        sparqlResultArray.map((result: any) =>  {\n          language_pie.labels.push(result.programmingLanguage.value);\n          language_pie.datasets[0].data.push(result.projectCount.value);\n        });\n\n        console.log('TODO: State of language_pie after ComponentDidMount (got labels)');\n        console.log(language_pie);\n        // setState({...state, language_pie: language_pie})\n        updateState({language_pie: language_pie})\n      })\n      .catch(error => {\n        console.log(error)\n      })\n      // TODO: do we need to add the stupid empty state array in the axios call too ? \n      // This shit: }, [])\n      // Seems not, the issue is that some of the state variable are reset by React\n      // to make sure the state is properly passed\n\n      // Get project Categories count\n      let category_pie = {\n        labels: [],\n        datasets: [{\n          data: [],\n          label: 'Number of projects per categories',\n          backgroundColor: ['#4caf50','#FF6384', '#36A2EB', '#FFCE56', '#0277bd', '#ef6c00'],\n          // borderColor: ['#4caf50','#FF6384', '#36A2EB', '#FFCE56'],\n          // hoverBackgroundColor: ['#4caf50','#FF6384','#36A2EB', '#FFCE56'],\n          // hoverBorderColor: ['#4caf50','#FF6384','#36A2EB', '#FFCE56']\n        }]\n      }\n      axios.get(endpointToQuery + `?query=` + encodeURIComponent(countCategoryQuery))\n      .then(res => {\n        const sparqlResultArray = res.data.results.bindings;\n        console.log(sparqlResultArray);\n\n        // Typescript ridiculously requires to do a forEach to avoid its dumb warnings\n        // Default Objects should accepts any fields by default.\n        for (let result of sparqlResultArray) {\n          category_pie.labels.push(result.category.value);\n          category_pie.datasets[0].data.push(result.projectCount.value);\n        }\n\n        // setState({...state, category_pie: category_pie})\n        updateState({category_pie: category_pie})\n      })\n      .catch(error => {\n        console.log(error)\n      })\n\n    // TODO: this seems to interfer with the pies states\n    // Query with the Comunica engine\n    // Not working on SPARQL endpoint, only on the examples they provide\n    // https://comunica.dev/docs/query/getting_started/query_app/\n    // const comunicaEngine = newEngine();\n    // comunicaEngine.query(`\n    //   SELECT ?s ?o WHERE {\n    //    ?s a ?o .\n    //   } LIMIT 100`, {\n    //   sources: ['https://dbpedia.org/sparql'],\n    // }).then((res: any) => {\n    //   console.log(res);\n    //   res.bindingsStream.on('data', (binding: any) => {\n    //     // console.log(binding.get('?s').value);\n    //     // console.log(binding.get('?s').termType);\n    //     // console.log(binding.get('?o').value);\n    //   });\n    // });\n\n  }, [])\n  // This useless array needs to be added for React to understand he needs to use the state inside...\n\n  const searchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setState({...state, search: event.target.value})\n  }\n  \n  const filteredProjects = state.projects_list.filter( (project: any) =>{\n    if (project.name) {\n      return (project.name.toLowerCase().indexOf( state.search.toLowerCase() ) !== -1 \n        || project.description.toLowerCase().indexOf( state.search.toLowerCase() ) !== -1\n        || project.programmingLanguage.join(' ').toLowerCase().indexOf( state.search.toLowerCase() ) !== -1\n      )\n    }\n  })\n  console.log('Filtered project:')\n  console.log(state.projects_list);\n\n  return(\n    <Container className='mainContainer'>\n      <Typography variant=\"h4\" style={{textAlign: 'center'}}>\n        {/* <img src={iconImage} style={{height: '1em', width: '1em', marginRight: '10px'}} alt=\"Logo\" /> */}\n        <img src={idsLogo} style={{maxWidth: '200px'}} alt=\"IDS Logo\" />\n        {/* Institute of Data Science */}\n      </Typography>\n      {/* <div style={{textAlign: 'center'}}>\n        <img src={iconImage} style={{height: '3em', width: '3em', marginRight: '10px'}} alt=\"Logo\" />\n      </div> */}\n\n      <Typography variant=\"h6\" style={{marginBottom: '1em'}}>\n        üè∑Ô∏è Recent releases\n      </Typography>\n      <Grid container spacing={2} style={{textAlign: 'center', marginBottom: '1em'}}>\n        {/* Iterate over the 6 most recent releases from JSON file */}\n        {githubData['recent_releases'].slice(0, 6).map(function(release: any, key: number){\n          return <Grid item xs={12} md={4}>\n            <Tooltip title={release.release_description}>\n              <Card style={{height: '100%'}}>\n                <CardContent style={{padding: '1em'}}>\n                  <a href={release.release_url} className={classes.link}>\n                    <Typography variant=\"h6\" component=\"h2\">\n                      {release.repo}\n                      <Chip label={release.release_tag} color='primary' style={{marginLeft: '0.5em', cursor: 'pointer'}}/>\n                    </Typography>\n                  </a>\n                  <Typography className={classes.pos} color=\"textSecondary\">\n                    {release.release_name}\n                  </Typography>\n                  <Typography className={classes.cardSubtitle} color=\"textSecondary\" gutterBottom>\n                    üìÖ Released on the {release.published_at}<br/>\n                    üë§ By {release.release_author}\n                  </Typography>\n                </CardContent>\n                {/* <CardActions>\n                  <Button size=\"small\">Learn More</Button>\n                </CardActions> */}\n              </Card>\n            </Tooltip>\n          </Grid>\n        })}\n      </Grid>\n\n      <Typography variant=\"h6\" style={{marginBottom: '1em', marginTop: '1em'}}>\n        üóÇÔ∏è Projects\n      </Typography>\n      {/* Pie charts https://github.com/jerairrest/react-chartjs-2 */}\n      <Grid container spacing={3} style={{textAlign: 'center'}}>\n        <Grid item xs={12} md={6}>\n          <Paper>\n            <Typography variant=\"h6\">Categories</Typography>\n            <Bar data={state.category_pie} options={pie_options}/>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Paper>\n            <Typography variant=\"h6\">Programming languages</Typography>\n            <HorizontalBar data={state.language_pie} options={pie_options}/>\n            {/* <Pie data={state.language_pie} options={pie_options}/> */}\n          </Paper>\n        </Grid>\n      </Grid>\n    \n      {/* Search box */}\n      <Box display=\"flex\" style={{marginTop: '20px' }}>\n        <Paper component=\"form\" className={classes.paperSearch}>\n          <InputBase  // https://material-ui.com/api/input-base/\n            className={classes.searchInput} inputProps={{ 'aria-label': 'search' }}\n            placeholder={\"Search projects\"}\n            onChange={searchChange}\n          />\n          <IconButton aria-label=\"search\">\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n        <Typography style={{marginTop: '10px', marginLeft: '20px' }}>{filteredProjects.length} projects</Typography>\n      </Box>\n      \n      {/* Iterate over projects */}\n      {/* TODO: Changing key here at some pointbroke the search, \n          but fixed the pie chart which is completly independant!\n          Fucking geniuses */}\n\n      {/* {filteredProjects.map(function(project: any, key: number){ */}\n      {/* return <Paper key={key} elevation={4} style={{padding: '15px', marginTop: '25px', marginBottom: '25px'}}> */}\n      {filteredProjects.map(function(project: any, key: number){\n        return <Paper key={key.toString()} elevation={4} style={{padding: '15px', marginTop: '25px', marginBottom: '25px'}}>\n          <Typography variant=\"h5\">\n            {project.name}&nbsp;&nbsp;\n            {project.programmingLanguage.map((language: string, key: number) => {\n              return <Chip label={language} color='primary' style={{marginRight: '5px'}} key={key.toString()}/>\n            })}\n            {project.category && ( \n              <Chip label={project.category} color='secondary' style={{marginRight: '5px'}}/>\n            )}\n            {project.status && ( \n              <Chip label={project.status} color='default' style={{marginRight: '5px'}}/>\n            )}\n          </Typography>\n          <Typography style={{marginBottom: '10px', marginTop: '5px'}}>\n            {project.description}\n          </Typography>\n          {project.gitUrl && ( \n            <div>\n              <a href={project.gitUrl} key={project.gitUrl} >\n                <img src={'https://gh-card.dev/repos/' + project.gitUrl.replace('https://github.com/', '') + '.svg?fullname'} alt={project.gitUrl} key={'img' + project.gitUrl}/>\n              </a>\n            </div>\n          )}\n          {project.gitUrl && ( \n            <Tooltip title='Git repository'>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.gitUrl}>\n                <GitHubIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {project.homepage && ( \n            <Tooltip title='Project homepage'>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.homepage}>\n                <HomeIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {project.downloadpage && ( \n            <Tooltip title='Download page'>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.downloadpage}>\n                <CloudDownloadIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {project.bugdatabase && ( \n            <Tooltip title='Issue tracker'>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.bugdatabase}>\n                <BugReportIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {project.license && (\n            <Tooltip title='License'>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.license}>\n                <GavelIcon />\n              </Button>\n            </Tooltip> \n          )}\n          {project.service_endpoint && (\n            <Tooltip title={'Service endpoint: ' + project.service_endpoint}>\n              <Button target=\"_blank\" rel=\"noopener noreferrer\"\n              href={project.service_endpoint}>\n                <SendIcon />\n              </Button>\n            </Tooltip> \n          )}\n          <Typography variant=\"body2\">\n            Maintained by&nbsp;\n            {project.maintainers.map((maintainer: any, key: number) => {\n              return <Tooltip title={maintainer.name + ' ' + maintainer.email}>\n                <a href={maintainer.email} target='_blank' rel=\"noopener noreferrer\">\n                  <Chip label={maintainer.name} color='default' \n                    style={{marginRight: '5px', cursor: 'pointer'}} key={key.toString()}/>\n                </a>\n                </Tooltip>\n            })}\n          </Typography>\n        </Paper>\n      })}\n    </Container>\n  )\n}\n\nconst getProjectsQuery = `PREFIX doap: <http://usefulinc.com/ns/doap#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX bibo: <http://purl.org/ontology/bibo/>\n\nselect distinct * where { \n    ?project a doap:Project ;\n        doap:name ?name ;\n        doap:description ?description ;\n        doap:programming-language ?programmingLanguage .\n    OPTIONAL {\n        ?project doap:repository [\n            a doap:GitRepository ;\n            doap:location ?gitUrl\n          ] .\n    }\n    OPTIONAL {\n        ?project doap:bug-database ?bugdatabase .\n    }\n    OPTIONAL {\n        ?project doap:category ?category .\n    }\n    OPTIONAL {\n        ?project bibo:status ?status .\n    }\n    OPTIONAL {\n        ?project doap:created ?created .\n    }\n    OPTIONAL {\n        ?project doap:download-page ?downloadpage .\n    }\n    OPTIONAL {\n        ?project doap:homepage ?homepage .\n    }\n    OPTIONAL {\n        ?project doap:license ?license .\n    }\n    OPTIONAL {\n        ?project doap:shortdesc ?shortdesc .\n    }\n    OPTIONAL {\n        ?project doap:service-endpoint ?service_endpoint .\n    }\n    OPTIONAL {\n      ?project doap:maintainer [\n          a foaf:Person ;\n          foaf:name ?maintainer_name ;\n          foaf:mbox ?maintainer_email\n        ] .\n    }\n}`\n\nconst countLanguagesQuery = `PREFIX doap: <http://usefulinc.com/ns/doap#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nselect ?programmingLanguage (count(?project) as ?projectCount) where { \n    ?project a doap:Project ;\n             doap:programming-language ?programmingLanguage .\n} GROUP BY ?programmingLanguage`\n\nconst countCategoryQuery = `PREFIX doap: <http://usefulinc.com/ns/doap#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nselect ?category (count(?project) as ?projectCount) where { \n    ?project a doap:Project ;\n             doap:category ?category .\n} GROUP BY ?category`\n\n// const pie_data = {\n//   labels: [\n//     'Python',\n//     'PHP',\n//     'Java'\n//   ],\n//   datasets: [{\n//     data: [4, 1, 2],\n//     backgroundColor: ['#4caf50','#FF6384', '#36A2EB', '#FFCE56'],\n//     hoverBackgroundColor: ['#4caf50','#FF6384','#36A2EB','#FFCE56']\n//   }]\n// };\n\nconst pie_options = {\n  scales: {\n    yAxes: [{\n      ticks: {\n        beginAtZero: true\n      }\n    }],\n    xAxes: [{\n      ticks: {\n        beginAtZero: true\n      }\n    }]\n  },\n  // legend: {\n  //   display: false\n  // },\n  // maintainAspectRatio: false,\n  plugins: {\n    labels: {\n      // render 'label', 'value', 'percentage', 'image' or custom function, default is 'percentage'\n      render: 'value',\n      // fontSize: 12,\n\n      // font color, can be color array for each data or function for dynamic color, default is defaultFontColor\n      // fontColor: '#fff',\n      // // draw text shadows under labels, default is false\n      // textShadow: true,\n      // text shadow intensity, default is 6\n      // shadowBlur: 10,\n      // // text shadow X offset, default is 3\n      // shadowOffsetX: -5,\n      // // text shadow Y offset, default is 3\n      // shadowOffsetY: 5,\n      // // text shadow color, default is 'rgba(0,0,0,0.3)'\n      // shadowColor: 'rgba(255,0,0,0.75)',\n      // position to draw label, available value is 'default', 'border' and 'outside'\n      // bar chart ignores this\n      // default is 'default'\n      // position: 'default',\n\n      // set images when `render` is 'image'\n      // images: [\n      //   {\n      //     src: 'image.png',\n      //     width: 16,\n      //     height: 16\n      //   }\n      // ]\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}